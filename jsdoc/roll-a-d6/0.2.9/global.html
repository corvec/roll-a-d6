<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="operatorOrder"><span class="type-signature">(constant) </span>operatorOrder<span class="type-signature"> :Array.&lt;Array.&lt;string>></span></h4>




<div class="description">
    Used for order of operations when converting to RPN. Earlier groups have a higher precedence than later groups.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;Array.&lt;string>></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line23">line 23</a>
    </li></ul></dd>
    

    

    

    
</dl>





    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>// 5+(6*7)
5+6*7</code></pre>

    <pre class="prettyprint"><code>// (5+6)>(7*8)
5+6>7*8</code></pre>

    <pre class="prettyprint"><code>// (5>6)|(7&lt;8)
5>6|7&lt;8</code></pre>

    <pre class="prettyprint"><code>// ((10+1d4)>>1d20)#+(6+1d6)
10+1d4>>1d20#+6+1d6</code></pre>

    <pre class="prettyprint"><code>// (((10+1d4)>>1d20)#+(6+1d6)&lt;20)->1d8;0
10+1d4>>1d20#+6+1d6->1d8;0</code></pre>



        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="buildResultRange"><span class="type-signature"></span>buildResultRange<span class="signature">(p)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="global.html#ResultRange">ResultRange</a>>}</span></h4>
    

    



<div class="description">
    Determine the result given different values of a single input, and build the ResultRange to model
this.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>p</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>expressions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#RPNTokenList">RPNTokenList</a>></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>macrosWithCertainty</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rolls</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>uncertainValues</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#ResultEntry">ResultEntry</a>></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxRange</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>initialSideEffects</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#SideEffects">SideEffects</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rollFormula.mjs.html">rollFormula.mjs</a>, <a href="rollFormula.mjs.html#line16">line 16</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="global.html#ResultRange">ResultRange</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="clauseHasMislocatedAssignmentOperator"><span class="type-signature"></span>clauseHasMislocatedAssignmentOperator<span class="signature">(clause)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Ensure that assignment only happens at the beginning of a clause
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>clause</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">List of tokens</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="validateFormula.mjs.html">validateFormula.mjs</a>, <a href="validateFormula.mjs.html#line147">line 147</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    True if valid
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="convertFormulaToRoll"><span class="type-signature"></span>convertFormulaToRoll<span class="signature">(tokens, macroName)</span><span class="type-signature"> &rarr; {<a href="global.html#CollectionRoll">CollectionRoll</a>|null}</span></h4>
    

    



<div class="description">
    Transform a formula from the collection into a "main" token list and helper token lists
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tokens</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#RPNTokenList">RPNTokenList</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>macroName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_getMacrosFromCollection.mjs.html">formulaParser/getMacrosFromCollection.mjs</a>, <a href="formulaParser_getMacrosFromCollection.mjs.html#line7">line 7</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#CollectionRoll">CollectionRoll</a></span>
|

<span class="param-type">null</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="convertToRPN"><span class="type-signature"></span>convertToRPN<span class="signature">(tokens)</span><span class="type-signature"> &rarr; {<a href="global.html#RPNTokenList">RPNTokenList</a>}</span></h4>
    

    



<div class="description">
    Convert tokens from infix notation to reverse polish notation, following order of operations and
respecting parentheses.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tokens</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rpnConverter.mjs.html">rpnConverter.mjs</a>, <a href="rpnConverter.mjs.html#line30">line 30</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#RPNTokenList">RPNTokenList</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="evaluate"><span class="type-signature"></span>evaluate<span class="signature">(token, v1, v2)</span><span class="type-signature"> &rarr; {boolean|number|*}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Operator being applied</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>v1</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">number</span>
|

<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">Top value on the stack</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>v2</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">number</span>
|

<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">Second value on the stack</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line37">line 37</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>
|

<span class="param-type">number</span>
|

<span class="param-type">*</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="evaluateExpression"><span class="type-signature"></span>evaluateExpression<span class="signature">(expression, evaluationMetadata)</span><span class="type-signature"> &rarr; {<a href="global.html#ResultEntry">ResultEntry</a>}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>expression</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#RPNTokenList">RPNTokenList</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>evaluationMetadata</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#EvaluationMetadata">EvaluationMetadata</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line343">line 343</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#ResultEntry">ResultEntry</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="evaluateFormula"><span class="type-signature"></span>evaluateFormula<span class="signature">(p)</span><span class="type-signature"> &rarr; {<a href="global.html#EvaluationResult">EvaluationResult</a>}</span></h4>
    

    



<div class="description">
    Calculate the result of tokenized RPN expressions
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>p</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>expressions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#RPNTokenList">RPNTokenList</a>></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Expressions to evaluate</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>macros</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#MacroMap">MacroMap</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Macros referenced by these expressions / by other macros</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rolls</code></td>
            

            <td class="type">
            
                
<span class="param-type">object.&lt;number, Array.&lt;string>></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    {}
                
                </td>
            

            <td class="description last">Saved rolls (by number of sides), in case of reevaluation</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line411">line 411</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#EvaluationResult">EvaluationResult</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getAllRolls"><span class="type-signature"></span>getAllRolls<span class="signature">(rolls)</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    Converts the Rolls object into a flat array
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rolls</code></td>
            

            <td class="type">
            
                
<span class="param-type">object.&lt;number, Array.&lt;string>></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="helpers.mjs.html">helpers.mjs</a>, <a href="helpers.mjs.html#line36">line 36</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns ['1d6', '3d6', '15d20', '4d20']
getAllRolls({ 6: ['1d6', '3d6'], 20: ['15d20', '4d20'] })</code></pre>



        
            

    

    
    <h4 class="name" id="getInitialRollIndex"><span class="type-signature"></span>getInitialRollIndex<span class="signature">(sides)</span><span class="type-signature"> &rarr; {object.&lt;number, number>}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sides</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line94">line 94</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object.&lt;number, number></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getMacroIndex"><span class="type-signature"></span>getMacroIndex<span class="signature">(token)</span><span class="type-signature"> &rarr; {string|*}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line140">line 140</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>
|

<span class="param-type">*</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns '1'
getMacroIndex('a[1]')</code></pre>



        
            

    

    
    <h4 class="name" id="getMacroName"><span class="type-signature"></span>getMacroName<span class="signature">(token)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line129">line 129</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns 'atk@melee'
getMacroName('^atk@melee[0]')</code></pre>



        
            

    

    
    <h4 class="name" id="getMacrosFromCollection"><span class="type-signature"></span>getMacrosFromCollection<span class="signature">(collectionFormulasMap)</span><span class="type-signature"> &rarr; {<a href="global.html#Collection">Collection</a>}</span></h4>
    

    



<div class="description">
    Convert formulas from the collection(s) into a usable object, already converted to RPN.
NOTE: In order to be usable in this way, the collection formula must have exactly 1 "main" expression.
      Formulas with 0 or 2+ main expressions are filtered out.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>collectionFormulasMap</code></td>
            

            <td class="type">
            
                
<span class="param-type">object.&lt;string, string></span>


            
            </td>

            

            

            <td class="description last">String formulas, basically as entered by the user</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_getMacrosFromCollection.mjs.html">formulaParser/getMacrosFromCollection.mjs</a>, <a href="formulaParser_getMacrosFromCollection.mjs.html#line32">line 32</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Collection">Collection</a></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns { roll: { formula: ['1d20', 'bonus', '+'], helpers: { bonus: ['10'] } } }
getMacrosFromCollection({ 'roll': '1d20+bonus,bonus=10'})</code></pre>



        
            

    

    
    <h4 class="name" id="getNewVariablesReduceHelper"><span class="type-signature"></span>getNewVariablesReduceHelper<span class="signature">(variables)</span><span class="type-signature"> &rarr; {function}</span></h4>
    

    



<div class="description">
    Returns a reducer helper that will, given a list of already known variables, return a list of
any variables not already listed.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>variables</code></td>
            

            <td class="type">
            
                
<span class="param-type">object.&lt;string, string></span>


            
            </td>

            

            

            <td class="description last">The variables that are already known</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_getUnassignedVariablesAndUsedMacros.mjs.html">formulaParser/getUnassignedVariablesAndUsedMacros.mjs</a>, <a href="formulaParser_getUnassignedVariablesAndUsedMacros.mjs.html#line11">line 11</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getPropertyByPath"><span class="type-signature"></span>getPropertyByPath<span class="signature">(value, path)</span><span class="type-signature"> &rarr; {any}</span></h4>
    

    



<div class="description">
    Safely descend into the object and retrieve the value at the described path
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="helpers.mjs.html">helpers.mjs</a>, <a href="helpers.mjs.html#line12">line 12</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">any</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns 5
getPropertyByPath({a: {b: [[],[5]]}}, ['a',b',1,0])</code></pre>



        
            

    

    
    <h4 class="name" id="getRollMetadata"><span class="type-signature"></span>getRollMetadata<span class="signature">(formula, macrosFromCollection)</span><span class="type-signature"> &rarr; {<a href="global.html#RollMetadata">RollMetadata</a>}</span></h4>
    

    



<div class="description">
    Generate a list of details for a roll:
* external macros
* unknown variables
* internal macros
* unknown variables that we should not prompt for
* variables that are intended to come from different collections
* variables that have side effects
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>formula</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>macrosFromCollection</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Collection">Collection</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_getRollMetadata.mjs.html">formulaParser/getRollMetadata.mjs</a>, <a href="formulaParser_getRollMetadata.mjs.html#line68">line 68</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#RollMetadata">RollMetadata</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getRollType"><span class="type-signature"></span>getRollType<span class="signature">(expressions, macros, unknowns)</span><span class="type-signature"> &rarr; {<a href="global.html#RollType">RollType</a>}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>expressions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>macros</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#MacroMap">MacroMap</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>unknowns</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_getRollMetadata.mjs.html">formulaParser/getRollMetadata.mjs</a>, <a href="formulaParser_getRollMetadata.mjs.html#line24">line 24</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#RollType">RollType</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getTargetCollection"><span class="type-signature"></span>getTargetCollection<span class="signature">(token)</span><span class="type-signature"> &rarr; (nullable) {string}</span></h4>
    

    



<div class="description">
    Get the name of the targeted collection
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line119">line 119</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns 'Defender'
getTargetCollection('ac@Defender')</code></pre>



        
            

    

    
    <h4 class="name" id="getUnassignedVariablesAndUsedMacros"><span class="type-signature"></span>getUnassignedVariablesAndUsedMacros<span class="signature">(expressions, macros, macrosFromCollection<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#UnassignedVariablesAndUsedMacros">UnassignedVariablesAndUsedMacros</a>}</span></h4>
    

    



<div class="description">
    Given one or more expressions, determine which macros are needed, and pull in only those.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>expressions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#RPNTokenList">RPNTokenList</a>></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The expressions that are being evaluated.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>macros</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#MacroMap">MacroMap</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Macros internal to the expression</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>macrosFromCollection</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Collection">Collection</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    {}
                
                </td>
            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_getUnassignedVariablesAndUsedMacros.mjs.html">formulaParser/getUnassignedVariablesAndUsedMacros.mjs</a>, <a href="formulaParser_getUnassignedVariablesAndUsedMacros.mjs.html#line67">line 67</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#UnassignedVariablesAndUsedMacros">UnassignedVariablesAndUsedMacros</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isConditional"><span class="type-signature"></span>isConditional<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line32">line 32</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isExpansionOperator"><span class="type-signature"></span>isExpansionOperator<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line44">line 44</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isGlobalMacroInstance"><span class="type-signature"></span>isGlobalMacroInstance<span class="signature">(token, macros)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Global Macro instances take the form of foo{1} and are shared across all expressions
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>macros</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line166">line 166</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isGrouping"><span class="type-signature"></span>isGrouping<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Is the token a grouping operator (either '(' or ')')?
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line86">line 86</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isMacroInstance"><span class="type-signature"></span>isMacroInstance<span class="signature">(token, macros)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    (Local) Macro instances take the form of foo[1] and are not shared across multiple expressions
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>macros</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line151">line 151</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isNumber"><span class="type-signature"></span>isNumber<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line76">line 76</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isOperator"><span class="type-signature"></span>isOperator<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line38">line 38</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isRoll"><span class="type-signature"></span>isRoll<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Is the token a roll (e.g., '3d6')?
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line79">line 79</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isSideEffectOperator"><span class="type-signature"></span>isSideEffectOperator<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line50">line 50</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isSideEffectVariable"><span class="type-signature"></span>isSideEffectVariable<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line69">line 69</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isValidToken"><span class="type-signature"></span>isValidToken<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Is the token valid?
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line102">line 102</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isValue"><span class="type-signature"></span>isValue<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Is the token a dice roll (e.g., '3d6')?
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line94">line 94</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isVariable"><span class="type-signature"></span>isVariable<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line57">line 57</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isVariableInstance"><span class="type-signature"></span>isVariableInstance<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line63">line 63</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="objectMakerReduceHelper"><span class="type-signature"></span>objectMakerReduceHelper<span class="signature">(accum, currentValue)</span><span class="type-signature"> &rarr; {object}</span></h4>
    

    



<div class="description">
    This helper enables mapping over the entries in an object that is being used like a Map.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>accum</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">(Accumulator) This accumulates the return values of this function</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>currentValue</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">The next key-value pair to be added to the accumulator</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="helpers.mjs.html">helpers.mjs</a>, <a href="helpers.mjs.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns { a: 2, b: 4 }
Object.entries({ a: 1, b: 2 }).map(([k,v]) => [k, v*2]).reduce(objectMakerReducerHelper, {})</code></pre>



        
            

    

    
    <h4 class="name" id="op1Precedes"><span class="type-signature"></span>op1Precedes<span class="signature">(op1, op2)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>op1</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>op2</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rpnConverter.mjs.html">rpnConverter.mjs</a>, <a href="rpnConverter.mjs.html#line10">line 10</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    True if op1 is of higher precedence than operator 2,
e.g., a op1 b op2 c should be grouped as (a op1 b) op2 c
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="parseAssignments"><span class="type-signature"></span>parseAssignments<span class="signature">(clauses)</span><span class="type-signature"> &rarr; {<a href="global.html#ParsedAssignments">ParsedAssignments</a>}</span></h4>
    

    



<div class="description">
    Get the assignments from a set of tokenized, but not RPNed, clauses.
In the response, the assignments will reference the clauses by index.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>clauses</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Array.&lt;string>></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_parseTokens.mjs.html">formulaParser/parseTokens.mjs</a>, <a href="formulaParser_parseTokens.mjs.html#line13">line 13</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#ParsedAssignments">ParsedAssignments</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="parseTokens"><span class="type-signature"></span>parseTokens<span class="signature">(tokens)</span><span class="type-signature"> &rarr; {<a href="global.html#ParsedTokenList">ParsedTokenList</a>}</span></h4>
    

    



<div class="description">
    Parse tokens in preparation for evaluation or analysis
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tokens</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Token list in infix notation</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_parseTokens.mjs.html">formulaParser/parseTokens.mjs</a>, <a href="formulaParser_parseTokens.mjs.html#line49">line 49</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#ParsedTokenList">ParsedTokenList</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="peek"><span class="type-signature"></span>peek<span class="signature">(array)</span><span class="type-signature"> &rarr; {any}</span></h4>
    

    



<div class="description">
    Return the last entry in the array, like Array.pop(), but without changing the array
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;any></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="helpers.mjs.html">helpers.mjs</a>, <a href="helpers.mjs.html#line28">line 28</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The last entry in the array, or undefined if the array is empty.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">any</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="rollAD"><span class="type-signature"></span>rollAD<span class="signature">(sides, evaluationMetadata)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    If `rolls` was provided (and thus, we have a `rollIndex`), then return the next roll.
Otherwise, generate the next roll and save it into rolls.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sides</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>evaluationMetadata</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#EvaluationMetadata">EvaluationMetadata</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line80">line 80</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="rollFormula"><span class="type-signature"></span>rollFormula<span class="signature">(formula, collectionFormulasMap)</span><span class="type-signature"> &rarr; {<a href="global.html#RolledFormula">RolledFormula</a>}</span></h4>
    

    



<div class="description">
    Validate, parse, and evaluate a formula, potentially pulling in collection data if needed
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>formula</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>collectionFormulasMap</code></td>
            

            <td class="type">
            
                
<span class="param-type">object.&lt;string, string></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rollFormula.mjs.html">rollFormula.mjs</a>, <a href="rollFormula.mjs.html#line75">line 75</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#RolledFormula">RolledFormula</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="splitTokenList"><span class="type-signature"></span>splitTokenList<span class="signature">(tokens)</span><span class="type-signature"> &rarr; {Array.&lt;Array.&lt;string>>}</span></h4>
    

    



<div class="description">
    Split a tokenized list into multiple tokenized lists based on the comma token
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tokens</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line154">line 154</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Array.&lt;string>></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns [['a'],['c']]
splitTokenList(['a', ',', 'c'])</code></pre>



        
            

    

    
    <h4 class="name" id="stripPrefix"><span class="type-signature"></span>stripPrefix<span class="signature">(variable)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Strip ^ and $ prefixes off of a token that is a variable name
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>variable</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line133">line 133</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns 'ac'
stripPrefix('^ac')</code></pre>



        
            

    

    
    <h4 class="name" id="stripSuffix"><span class="type-signature"></span>stripSuffix<span class="signature">(variableInstance)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Strip target and instance suffixes off of a token that is a variable instance
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>variableInstance</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line142">line 142</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns 'atk'
stripPrefix('atk[1]')</code></pre>



        
            

    

    
    <h4 class="name" id="tokenize"><span class="type-signature"></span>tokenize<span class="signature">(formula)</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    Convert a formula from a string into an array of tokens
Each token should represent either a value or an operator.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>formula</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line184">line 184</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Array of tokens
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns ['1d20', '+', '5']
tokenize('1d20+5')</code></pre>



        
            

    

    
    <h4 class="name" id="validateAlternatingTokenType"><span class="type-signature"></span>validateAlternatingTokenType<span class="signature">(tokens)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    confirm that operators and values alternate
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tokens</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="validateFormula.mjs.html">validateFormula.mjs</a>, <a href="validateFormula.mjs.html#line50">line 50</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    True if valid
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="validateBrackets"><span class="type-signature"></span>validateBrackets<span class="signature">(clause)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    confirm that brackets are only used to contain numbers, e.g., [5]
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>clause</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="validateFormula.mjs.html">validateFormula.mjs</a>, <a href="validateFormula.mjs.html#line45">line 45</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    True if valid
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="validateClause"><span class="type-signature"></span>validateClause<span class="signature">(clause, i)</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    Confirm that the clause matches the appropriate format and that the other validators pass
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>clause</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>i</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">clause descriptor</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="validateFormula.mjs.html">validateFormula.mjs</a>, <a href="validateFormula.mjs.html#line99">line 99</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Empty if valid. Array of found issues.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="validateFormula"><span class="type-signature"></span>validateFormula<span class="signature">(formula)</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    

    



<div class="description">
    Perform validation for the entire formula (an unconverted string) one clause at a time
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>formula</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="validateFormula.mjs.html">validateFormula.mjs</a>, <a href="validateFormula.mjs.html#line160">line 160</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Empty if valid. Array of issues found.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="validateParentheses"><span class="type-signature"></span>validateParentheses<span class="signature">(clause)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Ensure parentheses are balanced
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>clause</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="validateFormula.mjs.html">validateFormula.mjs</a>, <a href="validateFormula.mjs.html#line10">line 10</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    True if valid
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// returns false
validateParentheses('())(')
// return false
validateParentheses('(()')
// return true
validateParentheses('()')</code></pre>



        
            

    

    
    <h4 class="name" id="variableTargetsCollection"><span class="type-signature"></span>variableTargetsCollection<span class="signature">(token)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Is this token a variable with a target collection (e.g., 'ac@Defender', which targets 'Defender')
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaTokenizer.mjs.html">formulaTokenizer.mjs</a>, <a href="formulaTokenizer.mjs.html#line112">line 112</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id="Collection">Collection</h4>




<div class="description">
    Map from names to rolls that have been converted to RPN and are thus available for evaluation
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object.&lt;string, <a href="global.html#CollectionRoll">CollectionRoll</a>></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_index.mjs.html">formulaParser/index.mjs</a>, <a href="formulaParser_index.mjs.html#line40">line 40</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="CollectionRoll">CollectionRoll</h4>




<div class="description">
    A single Collection formula, converted from the user-entered form into a tokenized, usable object.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>formula</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#RPNTokenList">RPNTokenList</a></span>


            
            </td>

            

            

            <td class="description last">The main expression associated with this macro</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>helpers</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#MacroMap">MacroMap</a></span>


            
            </td>

            

            

            <td class="description last">The helper macros for the main expression</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_index.mjs.html">formulaParser/index.mjs</a>, <a href="formulaParser_index.mjs.html#line32">line 32</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="EvaluationMetadata">EvaluationMetadata</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>macros</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Collection">Collection</a></span>


            
            </td>

            

            

            <td class="description last">Available CollectionRolls that could be referenced</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rolls</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#RollLog">RollLog</a></span>


            
            </td>

            

            

            <td class="description last">Map from number of sides to saved roll results
                             (e.g., {6: ['1(d6)','5(d6)']})</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rollIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">object.&lt;number, number></span>


            
            </td>

            

            

            <td class="description last">Map from number of sides to roll index</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>savedGlobalValues</code></td>
            

            <td class="type">
            
                
<span class="param-type">object.&lt;string, Array.&lt;<a href="global.html#ResultEntry">ResultEntry</a>>></span>


            
            </td>

            

            

            <td class="description last">Saved results of macro instances</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sideEffects</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#SideEffects">SideEffects</a></span>


            
            </td>

            

            

            <td class="description last">Applied side effects this run</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line382">line 382</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="EvaluationResult">EvaluationResult</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#ResultEntry">ResultEntry</a>></span>


            
            </td>

            

            

            <td class="description last">Result of each expression, in order</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rolls</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#RollLog">RollLog</a></span>


            
            </td>

            

            

            <td class="description last">Log of all rolls made as part of the evaluation</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sideEffects</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#SideEffects">SideEffects</a></span>


            
            </td>

            

            

            <td class="description last">Changes to already calculated values, both internal to this
                                    evaluation and external</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line393">line 393</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="MacroMap">MacroMap</h4>




<div class="description">
    A map from var names to their tokenized expressions.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object.&lt;string, <a href="global.html#RPNTokenList">RPNTokenList</a>></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_index.mjs.html">formulaParser/index.mjs</a>, <a href="formulaParser_index.mjs.html#line26">line 26</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="ParsedAssignments">ParsedAssignments</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>assignments</code></td>
            

            <td class="type">
            
                
<span class="param-type">object.&lt;string, number></span>


            
            </td>

            

            

            <td class="description last">references to the clauses by index</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strippedClauses</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Array.&lt;string>></span>


            
            </td>

            

            

            <td class="description last">clauses without the assignments</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_parseTokens.mjs.html">formulaParser/parseTokens.mjs</a>, <a href="formulaParser_parseTokens.mjs.html#line6">line 6</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="ParsedTokenList">ParsedTokenList</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>expressions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#RPNTokenList">RPNTokenList</a>></span>


            
            </td>

            

            

            <td class="description last">Top level expressions</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>macros</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#MacroMap">MacroMap</a></span>


            
            </td>

            

            

            <td class="description last">Internal macros</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>unassignedVariables</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Variables that are referenced but not assigned</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>noPromptVariables</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Unassigned variables that should not be prompted for</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_parseTokens.mjs.html">formulaParser/parseTokens.mjs</a>, <a href="formulaParser_parseTokens.mjs.html#line40">line 40</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="ResultEntry">ResultEntry</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">boolean</span>
|

<span class="param-type">number</span>
|

<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line367">line 367</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="ResultRange">ResultRange</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#ResultEntry">ResultEntry</a></span>


            
            </td>

            

            

            <td class="description last">The result when evaluated in this range</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>variable</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The name of the variable</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>minValue</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The lowest value for which this result is applicable</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxValue</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The highest value for which this result is applicable</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rollFormula.mjs.html">rollFormula.mjs</a>, <a href="rollFormula.mjs.html#line7">line 7</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="RolledFormula">RolledFormula</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="global.html#ResultEntry">ResultEntry</a>></span>
|

<span class="param-type">Array.&lt;<a href="global.html#ResultRange">ResultRange</a>></span>


            
            </td>

            

            

            <td class="description last">Either the results from evaluation OR an array
                                     of results at multiple input values for a given variable</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rolls</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#RollLog">RollLog</a></span>


            
            </td>

            

            

            <td class="description last">Log of all rolls made as part of the evaluation</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sideEffects</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#SideEffects">SideEffects</a></span>


            
            </td>

            

            

            <td class="description last">Side effects applied from this roll</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>macros</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#MacroMap">MacroMap</a></span>


            
            </td>

            

            

            <td class="description last">Macros that were included in the initial expression</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>allMacros</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#MacroMap">MacroMap</a></span>


            
            </td>

            

            

            <td class="description last">All macros - expression, collection, and inline</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="rollFormula.mjs.html">rollFormula.mjs</a>, <a href="rollFormula.mjs.html#line64">line 64</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="RollLog">RollLog</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object.&lt;number, Array.&lt;string>></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line372">line 372</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="RollMetadata">RollMetadata</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>internalMacros</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#MacroMap">MacroMap</a></span>


            
            </td>

            

            

            <td class="description last">list of macros we are using that are part of the formula</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>externalMacros</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#MacroMap">MacroMap</a></span>


            
            </td>

            

            

            <td class="description last">list of macros we are using sourced from Collections</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>unknownVariables</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">list of referenced variables that are not set</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>noPromptVariables</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">list of unknown variables we are not supposed to prompt for</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>targetedCollections</code></td>
            

            <td class="type">
            
                
<span class="param-type">object.&lt;string, object.&lt;string, Array.&lt;string>>></span>


            
            </td>

            

            

            <td class="description last">targeted variables grouped by collection</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sideEffects</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">list of variables that could have side effects applied</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Type of the Roll - 'value', 'roll', or value/roll with unknowns</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_getRollMetadata.mjs.html">formulaParser/getRollMetadata.mjs</a>, <a href="formulaParser_getRollMetadata.mjs.html#line41">line 41</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="RollType">RollType</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">'roll'</span>
|

<span class="param-type">'value'</span>
|

<span class="param-type">'roll-with-unknowns'</span>
|

<span class="param-type">'value-with-unknowns'</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_getRollMetadata.mjs.html">formulaParser/getRollMetadata.mjs</a>, <a href="formulaParser_getRollMetadata.mjs.html#line13">line 13</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="RPNTokenList">RPNTokenList</h4>




<div class="description">
    A list of tokens in Reverse Polish Notation, e.g., ['1d6','5','+']
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;string></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_index.mjs.html">formulaParser/index.mjs</a>, <a href="formulaParser_index.mjs.html#line20">line 20</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="SideEffects">SideEffects</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object.&lt;string, <a href="global.html#ResultEntry">ResultEntry</a>></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="evaluateFormula.mjs.html">evaluateFormula.mjs</a>, <a href="evaluateFormula.mjs.html#line377">line 377</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="UnassignedVariablesAndUsedMacros">UnassignedVariablesAndUsedMacros</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>variables</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">The unassigned variables</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>usedMacros</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#MacroMap">MacroMap</a></span>


            
            </td>

            

            

            <td class="description last">Macros that have been referenced and that thus need to be pulled in</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="formulaParser_getUnassignedVariablesAndUsedMacros.mjs.html">formulaParser/getUnassignedVariablesAndUsedMacros.mjs</a>, <a href="formulaParser_getUnassignedVariablesAndUsedMacros.mjs.html#line51">line 51</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#buildResultRange">buildResultRange</a></li><li><a href="global.html#clauseHasMislocatedAssignmentOperator">clauseHasMislocatedAssignmentOperator</a></li><li><a href="global.html#convertFormulaToRoll">convertFormulaToRoll</a></li><li><a href="global.html#convertToRPN">convertToRPN</a></li><li><a href="global.html#evaluate">evaluate</a></li><li><a href="global.html#evaluateExpression">evaluateExpression</a></li><li><a href="global.html#evaluateFormula">evaluateFormula</a></li><li><a href="global.html#getAllRolls">getAllRolls</a></li><li><a href="global.html#getInitialRollIndex">getInitialRollIndex</a></li><li><a href="global.html#getMacroIndex">getMacroIndex</a></li><li><a href="global.html#getMacroName">getMacroName</a></li><li><a href="global.html#getMacrosFromCollection">getMacrosFromCollection</a></li><li><a href="global.html#getNewVariablesReduceHelper">getNewVariablesReduceHelper</a></li><li><a href="global.html#getPropertyByPath">getPropertyByPath</a></li><li><a href="global.html#getRollMetadata">getRollMetadata</a></li><li><a href="global.html#getRollType">getRollType</a></li><li><a href="global.html#getTargetCollection">getTargetCollection</a></li><li><a href="global.html#getUnassignedVariablesAndUsedMacros">getUnassignedVariablesAndUsedMacros</a></li><li><a href="global.html#isConditional">isConditional</a></li><li><a href="global.html#isExpansionOperator">isExpansionOperator</a></li><li><a href="global.html#isGlobalMacroInstance">isGlobalMacroInstance</a></li><li><a href="global.html#isGrouping">isGrouping</a></li><li><a href="global.html#isMacroInstance">isMacroInstance</a></li><li><a href="global.html#isNumber">isNumber</a></li><li><a href="global.html#isOperator">isOperator</a></li><li><a href="global.html#isRoll">isRoll</a></li><li><a href="global.html#isSideEffectOperator">isSideEffectOperator</a></li><li><a href="global.html#isSideEffectVariable">isSideEffectVariable</a></li><li><a href="global.html#isValidToken">isValidToken</a></li><li><a href="global.html#isValue">isValue</a></li><li><a href="global.html#isVariable">isVariable</a></li><li><a href="global.html#isVariableInstance">isVariableInstance</a></li><li><a href="global.html#objectMakerReduceHelper">objectMakerReduceHelper</a></li><li><a href="global.html#op1Precedes">op1Precedes</a></li><li><a href="global.html#operatorOrder">operatorOrder</a></li><li><a href="global.html#parseAssignments">parseAssignments</a></li><li><a href="global.html#parseTokens">parseTokens</a></li><li><a href="global.html#peek">peek</a></li><li><a href="global.html#rollAD">rollAD</a></li><li><a href="global.html#rollFormula">rollFormula</a></li><li><a href="global.html#splitTokenList">splitTokenList</a></li><li><a href="global.html#stripPrefix">stripPrefix</a></li><li><a href="global.html#stripSuffix">stripSuffix</a></li><li><a href="global.html#tokenize">tokenize</a></li><li><a href="global.html#validateAlternatingTokenType">validateAlternatingTokenType</a></li><li><a href="global.html#validateBrackets">validateBrackets</a></li><li><a href="global.html#validateClause">validateClause</a></li><li><a href="global.html#validateFormula">validateFormula</a></li><li><a href="global.html#validateParentheses">validateParentheses</a></li><li><a href="global.html#variableTargetsCollection">variableTargetsCollection</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Wed May 20 2020 01:25:26 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>